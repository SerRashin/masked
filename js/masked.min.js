/**! 
* Masked - v1.0.2 - 
* 
* @author Rashin Sergey 
* @version 1.0.2 2017-04-12
*/
var MaskedObserver=function(){function a(){this.subscribers=[]}return a.prototype={add:function(a){this.subscribers.push(a)},notify:function(){var a=this,b=function(){a.subscribers.forEach(function(a){a.start()}),Masked.postload()};0===Object.keys(Masked.phoneCodes.all).length?Masked.phoneCodes.loadMasks("all",MConf("lang"),function(){b()}):b()}},new a}(),$M=MaskedReady=function(){return function(a){this.use=!0,a(),MaskedObserver.notify()}}();$M.ready=$M;var alternativeReady=function(){return{timerID:0,init:function(){this.timerID&&clearTimeout(this.timerID),this.timerID=setTimeout(function(){MaskedObserver.notify()},250)}}}(),generalMaskedFn={extend:function(a,b){var c,d={},e=Object.prototype.hasOwnProperty;for(c in a)a.hasOwnProperty(c)&&e.call(a,c)&&(d[c]=a[c]);for(c in b)b.hasOwnProperty(c)&&e.call(b,c)&&(d[c]=b[c]);return d}},MaskedConfig=MConf=function(){var a={},b={pathToList:"/js/masks/",prefix:"instId_",lang:"ru",country:"ru",one_country:!1,country_binding:!1,first_countries:["ru"],exceptions:a,initial_focus:!1,select_range:!1,onToggleList:null,onShowList:null,onHideList:null,onSend:null,onValueChanged:null};return function(a){return"string"==typeof a?b[a]:b=generalMaskedFn.extend(b,a)}}(),Masked=function(a,b){function c(){for(var a=arguments,b=a.length,c=0,d=void 0,e=""+d;c!==b;){if(a[c]===d||typeof a[c]===e||null===a[c])return!1;c++}return!0}function d(){for(var a=arguments,b=a.length,c=0,d=0,e=void 0,f=""+e,g=[e,!1,""],h=g.length;c!==b;){for(d=0;d<h;d++)if(typeof a[c]===f||a[c]===g[d]||0===a[c].length)return!0;c++}return!1}function e(a,b){var c=a.className;new RegExp("(^|\\s)"+b+"(\\s|$)","g").test(c)||(a.className=(c+" "+b).replace(/\s+/g," ").replace(/(^ | $)/g,""))}function f(a,b){a.className=a.className.replace(new RegExp("(^|\\s)"+b+"(\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/(^ | $)/g,"")}function g(a,b){for(;(a=a.parentNode)&&a!==b;);return!!a}function h(a){return a.replace(/\D+/g,"")}function i(a,b){var c,d=h(a),e=b.split(""),f=0;for(c in e)e.hasOwnProperty(c)&&"_"==e[c]&&f<d.length&&(e[c]=d[f],f++);return e.join("")}function j(a,b,c){var d="character";if(a.focus(),a.setSelectionRange)a.setSelectionRange(b,c);else if(a.createTextRange){var e=a.createTextRange();e.collapse(!0),e.moveEnd(d,b),e.moveStart(d,c),e.select()}}function k(a){var b,c=a.value;for(b=c.length;b>=0&&!t.test(c[b]);b--);return b}function l(a,b){var c=a.value.split("");t.test(c[b])&&(c[b]="_"),a.value=c.join("")}function m(a,b){var c=!1;for(var d in a)if(a.hasOwnProperty(d)&&a[d].iso_code===b.iso_code&&a[d].lang===b.lang){c=!0;break}return c}function n(a){return"function"==typeof a}function o(a){for(var b=[].filter.call(a.attributes,function(a){return/^data-/.test(a.name)}),c={},d=0;d<b.length;d++)c[b[d].name.replace(/^data-/,"")]=b[d].value;return c}function p(a,b){var e,f,g,h,i,j,k,l=[],m=!1,n=w,o=n.all;if(d(o))return!1;o=n.sortPhones(o,"mask","desc"),d(n[b])||(o=n[b].concat(o));for(e in o)if(o.hasOwnProperty(e)){for(j=o[e].mask,k=!0,f=0,g=0;f<a.length&&g<j.length;){var q=j.charAt(g),r=a.charAt(f);if(t.test(q)||"_"===q){if(!("_"===q&&t.test(r)||r==q)){k=m;break}f++,g++}else g++}if(k&&f==a.length){if(-1==j.substr(g).search(t),j=j.replace(new RegExp([t.source].concat("_").join("|"),"g"),"_"),"1"===a&&"us"!==o[e].iso_code)continue;l.push({mask:j,obj:o[e]})}}"us"!==b&&"ca"!==b||(l=w.sortPhones(l,"mask","desc")),i=m;for(e in l)l.hasOwnProperty(e)&&(h=l[e].obj.mask.replace(/\D+/g,""),parseInt(h)===parseInt(a)&&(i=l[e]));return!i&&l.length>1&&l.sort(function(a,b){return Math.sign((a.mask.match(/_/g)||[]).length-(b.mask.match(/_/g)||[]).length)}),c(l[0])?i||l[0]||m:(a=a.substring(0,a.length-1))?p(a,b):void 0}function q(a,b){var c,e,f,g,i,j,k=w,l=h(a);if(d(k[b]))return!1;j=k[b];for(c in j)if(j.hasOwnProperty(c)){for(g=j[c].mask,i=!0,e=0,f=0;e<l.length&&f<g.length;){var m=g.charAt(f),n=l.charAt(e);if(t.test(m)||"_"===m){if(!("_"===m&&t.test(n)||n==m)){i=!1;break}e++,f++}else f++}if(!0===i)break}return i}var r="undefined",s="null",t=new RegExp("[0-9]"),u=function(){function a(a){var b=a||e.event;if(b.isFixed)return b;if(b.isFixed=!0,b.preventDefault=b.preventDefault||function(){this.returnValue=!1},b.stopPropagation=b.stopPropagation||function(){this.cancelBubble=!0},b.target||(b.target=b.srcElement),!b.relatedTarget&&b.fromElement&&(b.relatedTarget=b.fromElement==b.target?b.toElement:b.fromElement),null==b.pageX&&null!=b.clientX){var c=f.documentElement,d=f.body;b.pageX=b.clientX+(c&&c.scrollLeft||d&&d.scrollLeft||0)-(c.clientLeft||0),b.pageY=b.clientY+(c&&c.scrollTop||d&&d.scrollTop||0)-(c.clientTop||0)}return!b.which&&b.button&&(b.which=1&b.button?1:2&b.button?3:4&b.button?2:0),b}function b(b){var c,d=a(b),e=this.events[d.type];for(c in e)if(e.hasOwnProperty(c)){var f=e[c],g=f.call(this,d);!1===g&&(d.preventDefault(),d.stopPropagation())}}var d=0,e=window,f=document;return{add:function(a,f,g){a.setInterval&&a!=e&&!a.frameElement&&(a=e),g.guid||(g.guid=++d),a.events||(a.events={},a.handle=function(d){if(c(u))return b.call(a,d)}),a.events[f]||(a.events[f]={},a.addEventListener?a.addEventListener(f,a.handle,!1):a.attachEvent&&a.attachEvent("on"+f,a.handle)),a.events[f][g.guid]=g},remove:function(a,b,c){var d,e=a.events&&a.events[b];if(e){delete e[c.guid];for(d in e)if(e.hasOwnProperty(d))return;a.removeEventListener?a.removeEventListener(b,a.handle,!1):a.detachEvent&&a.detachEvent("on"+b,a.handle),delete a.events[b];for(d in a.events)if(a.events.hasOwnProperty(d))return;try{delete a.handle,delete a.events}catch(b){a.removeAttribute("handle"),a.removeAttribute("events")}}}}}(),v=function(a){var b,e,f,g,h,i,j,k={},l=["GET","POST","PUT"],m=["json","text"],n={},o=XMLHttpRequest,p="Msxml2.XMLHTTP",q={url:a.url||!1,async:a.async||!1,data:a.data||null,crossDomain:a.crossDomain||!1,complete:a.result||function(){},timeout:a.timeout||1e4,type:(-1!==l.indexOf(a.type)?a.type:null)||"GET",dataType:(-1!==m.indexOf(a.dataType)?a.dataType:null)||"json"},r=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")};if(!d(q.url)){if(void 0===o&&(o=function(){try{var a=ActiveXObject}catch(a){}try{return new a(p+".6.0")}catch(a){}try{return new a(p+".3.0")}catch(a){}try{return new a(p)}catch(a){}throw new Error("This browser does not support XMLHttpRequest.")}),g=new("onload"in new o?o:XDomainRequest),f=q.url,"string"==typeof q.data)try{q.data=JSON.parse(q.data)}catch(a){}"object"==typeof q.data&&(q.data=r(q.data)),"GET"===q.type&&q.data&&q.data.length>0&&(f=q.url+"?"+q.data.toString()),g.open(q.type,f,q.async),q.crossDomain||(n["X-Requested-With"]="XMLHttpRequest");for(b in n)n.hasOwnProperty(b)&&c(n[b])&&g.setRequestHeader(b,n[b]+"");q.data&&q.data.toString().length>0&&(g.setRequestHeader("Content-type","application/x-www-form-urlencoded"),q.data=q.data.toString());try{g.send(q.data||null)}catch(a){}if(q.async)var s=setTimeout(function(){g.abort()},q.timeout);j=function(){if(4===g.readyState)if(q.async&&clearTimeout(s),j="undefined",4!==g.readyState)g.abort();else{h=g.status,"string"==typeof g.responseText&&(k.text=g.responseText);try{i=g.statusText}catch(a){i=""}h||q.crossDomain?1223===h&&(h=204):h=k.text?200:404}if(k&&(h||q.crossDomain?1223===h&&(h=204):h=k.text?200:404,200===h)){if("text"===q.dataType)e=k.text||"";else if("json"===q.dataType)try{e=JSON.parse(k.text)||""}catch(a){e=""}q.complete(e,h,i,g.getAllResponseHeaders())}},q.async?4===g.readyState?setTimeout(j,20):g.onreadystatechange=j:j()}},w={all:[],ae:[],an:[],ba:[],bt:[],ca:[],cn:[],de:[],ec:[],ee:[],id:[],il:[],jp:[],kp:[],la:[],lb:[],ly:[],mc:[],mm:[],mx:[],my:[],ng:[],nz:[],ru:[],sa:[],sb:[],so:[],sr:[],th:[],tl:[],tv:[],tw:[],ua:[],us:[],vn:[],vu:[],ye:[],sortPhones:function(a,b,d){var e="mask",f="desc",g="asc",h=b==e?e:"name",i=d==f?f:g;return a&&a.sort(function(a,b){return c(a[h])&&c(b[h])?(h===e?(a=a[h].replace(/\D+/g,""),b=b[h].replace(/\D+/g,"")):(a=a[h],b=b[h]),a>b?i==g?1:-1:a<b?i==g?-1:1:0):c(a[h])?-1:1}),a},loadMasks:function(a,b,c){var e=this,f=!0;v({url:MConf("pathToList")+a+"/"+(d(b)?"ru":b)+".min.json",type:"GET",async:f,crossDomain:f,dataType:"json",result:function(b){e[a]=e.sortPhones(b,"mask","desc"),"function"==typeof c&&c()}})},findMaskByCode:function(a){var b,c,d=this,e=d.sortPhones(d.all,"name",1);for(b in d.all)if(d.all.hasOwnProperty(b)&&(c=e[b],c.iso_code===a))return c;return!1}},x={focus:function(a){Masked.getInst(this).focused()},dblclick:function(){this.click()},click:function(){var a=Masked.getInst(this);!1!==a.opt.select_range?a.setRange():a.focused()},blur:function(){var a=Masked.getInst(this);return!1!==a.opt.select_range&&a.unsetRange(),!0},keydown:function(a){var b,c,d=this,e=A,f=e.getInst(d),g=a.which||a.keyCode,h=a.ctrlKey||a.metaKey,i=a.key?a.key:g>=96&&g<=105?String.fromCharCode(g-48):String.fromCharCode(g),m=d.value,n=f.opt.select_range,o=!1,p=!0;return 8===g?(b=k(d),t.test(m[b])===p?(!1!==n&&!0===n.focus&&(f.replaceRange(),b=n.start,f.unsetRange(),f.opt.select_range.changed=n.end-n.start>1),l(d,b),j(d,b,b),f.setMask(d),f.focused(),o):o):!0===h&&86===g?p:(c=m.indexOf("_"),!1!==n&&!0===n.focus&&t.test(i)===p&&(f.replaceRange(),c=n.start,m=d.value,f.unsetRange(),f.opt.select_range.changed=n.end-n.start>1),-1===c?f.ifIssetNextMask()&&t.test(i)===p?p:o:t.test(i)!==p||"_"!==m[c]?o:void j(d,c,c+1))},keyup:function(a){var b,c,d=this,e=A,f=e.getInst(d),g=a.keyCode||a.which,h=d.value,i=f.opt,j=!1;if(8===g)return b=k(d),!0===t.test(h[b])?(b+=1,f.focused(),j):j;13===g?i.onSend&&(i.country_binding&&f.checkCountryBinding(),i.onSend(i)):(c=h.indexOf("_"),b=-1!==c?c:h.length,f.setMask(d),f.focused())},paste:function(a){a.preventDefault();var b=this,c=A,d=c.getInst(b),e=(a.originalEvent||a).clipboardData.getData("text/plain");d.opt.element.value=h(e),d.setMask(b)}},y=function(a,b){var c=this,d=function(a,b){var d,f;if(b.phone){c.maskFinder(b.phone)||(b.phone=!1)}e(c.opt.element,c.opt.instId),c.opt.oldState=a.outerHTML,c.setTemplate(),f=c.opt,d=c.opt.element,d.value=f.value,d.placeholder=f.value,c.addActions(f.element)},f=function(){for(var a="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;c<8;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a};c.opt={listOpened:!1,instId:MConf("prefix")+f(),element:a,lang:b.lang||MConf("lang"),country:b.country||MConf("country"),phone:b.phone||!1,mask:b.mask||"",onSend:b.onSend||MConf("onSend"),onToggleList:b.onToggleList||MConf("onToggleList"),onShowList:b.onShowList||MConf("onShowList"),onHideList:b.onHideList||MConf("onHideList"),onValueChanged:b.onValueChanged||MConf("onValueChanged"),one_country:b.one_country||MConf("one_country"),first_countries:b.first_countries||MConf("first_countries"),exceptions:b.exceptions||MConf("exceptions"),country_binding:b.country_binding||MConf("country_binding"),value:"",name:"",old:{},oldState:null,initial_focus:b.initial_focus||MConf("initial_focus"),select_range:!(!b.select_range&&!MConf("select_range"))&&{focus:!1,changed:!1,start:0,end:0},phoneBindingValid:!1},d(a,c.opt)};y.prototype={setMask:function(a){var b=this,c=b.opt.value;this.maskFinder(a.value,this.opt.country),n(b.opt.onValueChanged)&&c!=a.value&&b.opt.onValueChanged(h(a.value),a.value)},maskFinder:function(a,b){var e,f,g,j=this,k=z,l=k.countries,n=h(a+""),o=b||!1,q=w,r=j.opt.one_country,s=j.opt.exceptions,t=!1;if(n){if(!d(s[o])&&!d(s[o].exceptions)){var u=s[o].exceptions,v=q.findMaskByCode(o).phone_code;for(var x in u)if(u.hasOwnProperty(x)&&n===v+""+x){n=n.replace(v+""+x,v+""+u[x]);break}}}else{if(!1===r)return!1===a&&j.setInp(j.opt.element,j.opt.country,j.opt.name,j.opt.value.replace(/[0-9]/g,"_")),!1;(g=q.findMaskByCode(r))&&(n=h(g.mask))}if(g=p(n,o)){if(f=g.obj,e=f.iso_code,r!==t&&r.toString().toLowerCase()!==e)return!1;if(c(q[e])&&d(q[e])){var y={iso_code:e,lang:j.opt.lang};m(l,y)||(l.push(y),k.initialization===t&&q.loadMasks(e,j.opt.lang,function(){g=p(n,e),j.setInp(j.opt.element,g.obj.iso_code,g.obj.name,i(n,g.mask)),!0===j.opt.initial_focus&&j.focused()})),j.setInp(j.opt.element,g.obj.iso_code,g.obj.name,i(n,g.mask))}else c(q[e])&&!d(q[e])&&o!==t&&(g=p(n,e)),n=!0===j.opt.select_range.changed&&-1!==a.indexOf("_")?a:i(n,g.mask),j.setInp(j.opt.element,f.iso_code,f.name,n)}return!0===j.opt.initial_focus&&j.focused(),g},setTemplate:function(){var a,b,d,h,i,j,k,l,m,o,p,q,r=this,s=window,t=document,v=r.opt,x=v.element,y="lists",z="active",A="top",B=r.opt.one_country,C=r.opt.first_countries,D=t.getElementsByClassName(y+" "+z),E=function(a){return document.createElement(a)},F=function(a,b){a.innerHTML=b.outerHTML},G=function(a,b){return a.className=b},H=w,I=function(a,b){a.appendChild(b)},J="div",K="flag";if(m=E("div"),F(m,x),G(m,"CBH-masks"),x.parentNode.replaceChild(m,x),B||(k=E("i"),G(k,"caret")),j=E(J),B||F(j,k),G(j,K+" "+v.country),o=E(J),F(o,j),G(o,"selected"),B?(p=E(J),F(p,o),G(p,"country")):(p=E(J),F(p,o),G(p,"flags"),d=E("ul"),G(d,"lists")),q=H.sortPhones(H.all,"name","asc"),0!==q.length){var L=function(){var e=q[a],f=e.iso_code.toString().toLowerCase(),g=e.name,j=e.mask;if(!c(g))return!1;!1===v.phone&&v.country===f&&(r.opt.name=g,r.opt.mask=j,r.opt.value=j),B||(b=E("li"),b.className="country",b.setAttribute("data-isocode",f),b.setAttribute("data-mask",j),u.add(b,"click",r.maskReplace),h=E("i"),G(h,K+" "+f),I(b,h),i=E("span"),G(i,"name"),i.innerHTML=g,I(b,i),i=E("span"),G(i,"code"),i.innerHTML="+"+e.phone_code,I(b,i),I(d,b))};if(!B){for(a in q)!q.hasOwnProperty(a)||-1===C.indexOf(q[a].iso_code)||L();var M=E("hr");I(d,M)}for(a in q)!q.hasOwnProperty(a)||L();B||(I(p,d),u.add(d,"mousedown",function(a){a.stopPropagation()})),m.insertBefore(p,m.firstChild),B||(m.getElementsByClassName("selected")[0].onclick=function(){function b(a){var b=0,c=0;if(a&&a.offsetParent)do{b+=a.offsetLeft,c+=a.offsetTop}while(a=a.offsetParent);return{left:b,top:c}}l=m.getElementsByClassName(y)[0];var c="opened",d="closed",h="closed",i=document,j=function(a){g(a.target,p)||(f(l,z),f(l,A),u.remove(i,"click",j),n(v.onHideList)&&v.onHideList(),n(v.onToggleList)&&v.onToggleList(d))};if(D.length)for(a=0;a<D.length;a++)l!==D[a]&&f(D[a],z);if(!0!==/active/.test(l.className)){u.add(i,"click",j),e(l,z);var k=s.innerHeight||t.documentElement.clientHeight||t.body.clientHeight,o=b(l),q=o.top-l.scrollTop,r=l.clientHeight;k-(q+m.childNodes[1].clientHeight)<=r&&e(l,A),h=c}else f(l,z),f(l,A),u.remove(i,"click",j),h=d;h===c&&n(v.onShowList)&&v.onShowList(),h===d&&n(v.onHideList)&&v.onHideList(),n(v.onToggleList)&&v.onToggleList(h)}),r.opt.element=m.childNodes[1]}},setInp:function(a,b,c,e){var f,g=this.opt;d(a.parentNode.getElementsByClassName("selected")[0])||(f=a.parentNode.getElementsByClassName("selected")[0].getElementsByClassName("flag")[0],f.className="flag "+b,typeof c!==r&&f.parentNode.setAttribute("title",c)),g.country=b,g.name=c,g.value=e,g.mask=e,a.value=e},focused:function(){var a=this,b=(a.opt,a.opt.element),c=b.value,d=c.indexOf("_"),e=-1===d?c.length:d;j(b,e,e)},setRange:function(){var a=this,b=a.opt,c=a.opt.element,d=c.selectionStart,e=c.selectionEnd;d!==e?b.select_range={focus:!0,changed:!1,start:d,end:e}:a.focused()},unsetRange:function(){this.opt.select_range={focus:!1,changed:!1,start:0,end:0}},replaceRange:function(){var a=this;a.opt,a.opt.element;value=a.opt.element.value.split(""),selected=a.opt.select_range;for(var b in value)value.hasOwnProperty(b)&&b>=selected.start&&b<selected.end&&t.test(value[b])&&(value[b]="_");a.opt.element.value=value.join("")},blured:function(){this.opt.element.blur()},maskReplace:function(){var a=this,b=w,c=a.parentNode.parentNode,d=c.parentNode.childNodes[1],e=Masked.getInst(d),g=o(a),j=b.findMaskByCode(e.opt.country),k=b.findMaskByCode(g.isocode);e.setInp(e.opt.element,k.iso_code,k.name,i(h(d.value).replace(j.phone_code,k.phone_code),k.mask.replace(new RegExp([t.source].concat("_").join("|"),"g"),"_"))),f(c.childNodes[1],"active"),n(e.opt.onHideList)&&e.opt.onHideList(),n(e.opt.onToggleList)&&e.opt.onToggleList("closed")},ifIssetNextMask:function(){var a=this,b=a.opt.country,d=w,e=a.opt.element.value,f=e.replace(new RegExp([t.source].concat("_").join("|"),"g"),"_").replace(/[+()-]/g,"").length;if(c(d[b]))for(var g in d[b])if(d[b].hasOwnProperty(g)){var h=d[b][g].mask.replace(new RegExp([t.source].concat("_").join("|"),"g"),"_").replace(/[0-9+()-]/g,"").length;if(h>f)return!0}return!1},setPhone:function(a){var b=this;b.opt.element.value=h(a),b.setMask(b)},addActions:function(a){u.add(a,"focus",x.focus),u.add(a,"blur",x.blur),u.add(a,"click",x.click),u.add(a,"dblclick",x.dblclick),u.add(a,"keydown",x.keydown),u.add(a,"keyup",x.keyup),u.add(a,"paste",x.paste)},checkCountryBinding:function(a,b){var c=this;c.opt.phoneBindingValid=q(c.opt.element.value,c.opt.country)}};var z={initialization:!0,instances:[],countries:[]},A=function(a){var b=this;return b.elements=[],b.options={lang:MConf("lang"),country:MConf("country")},b.init(a),typeof MaskedReady.use===r&&alternativeReady.init(),b};return A.postload=function(){var a,b,e,f,g=w,h=z,i=h.instances,j=h.countries;for(a in j)j.hasOwnProperty(a)&&(f=j[a],c(g[f.iso_code])&&d(g[f.iso_code])&&g.loadMasks(f.iso_code,f.lang,function(){for(a in i)i.hasOwnProperty(a)&&(e=i[a],b={iso_code:e.opt.country,lang:e.opt.lang},m(j,b)&&e.maskFinder(e.opt.phone,e.opt.country))}));h.initialization=!1},A.getInst=function(a){return z.instances[a.className.match(new RegExp(MConf("prefix")+"[0-9a-zA-Z]+"))]},A.phoneCodes=w,A.getById=function(a){var b=document.getElementById(a);return null!==b&&this.getInst(b)},A.getPhone=function(a){return!!a&&A.prototype.getPhone(a)},A.isValid=function(a){return!!a&&A.prototype.isValid(a)},A.checkCountryBinding=function(a,b){return!(!a||!b)&&A.prototype.checkCountryBinding(a,b)},A.toggle=function(a){var b=this.getInst(a),c=b.opt;d(a.parentNode)||"CBH-masks"!==a.parentNode.className?(c.element=a,b.setTemplate(),c.element.value=c.value,b.addActions(c.element)):a.parentNode.outerHTML=c.oldState},A.prototype={init:function(b){function c(b){var c,d,e,f=[],g=b.selector;if("string"==typeof g)if(e=g[0],"."!==e&&"#"!==e||(g=g.substr(1)),"."===e){d=a.getElementsByClassName(g);for(c in d)d.hasOwnProperty(c)&&d[c]!==s&&(f[d[c].id||c]=d[c])}else"#"===e?(d=a.getElementById(g))!==s&&f.push(d):console.log("selector finder empty");else g.nodeType&&g!==s&&f.push(g);return f}var d=this;return b&&("string"==typeof b&&(b={selector:b}),d.options=generalMaskedFn.extend(d.options,b)),typeof b.selector!==r&&(d.elements=c(b)),Object.keys(d.elements).length&&MaskedObserver.add(d),d},start:function(){var a,b,c,d,e=this,f=e.elements;for(a in f)f.hasOwnProperty(a)&&(b=f[a])&&!b.className.match(new RegExp(MConf("prefix")+"[0-9a-zA-Z]+"))&&(c=generalMaskedFn.extend(generalMaskedFn.extend({},e.options),o(b)),d=new y(b,c),z.instances[d.opt.instId]=d)},setPhone:function(a){var b,c=this.elements;for(var e in c)c.hasOwnProperty(e)&&(b=A.getInst(c[e]),d(b)||b.maskFinder(a||!1))},getPhone:function(a,b){var c,e=[],f=[],g=p,j=b||!0;if(a)a=h(a),c=g(a),c&&(c=i(a,c.mask)),j||(c=h(c)),e.push(c);else{f=this.elements;for(var k in f)f.hasOwnProperty(k)&&(d(A.getInst(f[k]))||(c=A.getInst(f[k]).opt.value,c=i(c,g(h(c)).mask),j||(c=h(c)),e.push(c)))}return a||!a&&1==Object.keys(f).length?e[0]:e},isValid:function(a){var b,c=!1,d=p,e=[];return a?c=-1===i(h(a),d(h(a)).mask).indexOf("_"):(e=this.elements,Object.keys(e).length?(b=A.getInst(e[0]).opt.value,c=-1===i(h(b),d(h(b)).mask).indexOf("_")):c=!1),c},checkCountryBinding:function(a,b){return q(a,b)}},A}(document,window);