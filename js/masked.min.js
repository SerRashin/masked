/**! 
* Masked - v1.1.0 - 
* 
* @author Rashin Sergey 
* @version 1.1.0 2016-12-30
*/
var Global={pre:[],initialization:!1,instances:[],countries:{all:[],ae:[],an:[],ba:[],bt:[],ca:[],cn:[],de:[],ec:[],ee:[],id:[],il:[],jp:[],kp:[],la:[],lb:[],ly:[],mc:[],mm:[],mx:[],my:[],ng:[],nz:[],ru:[],sa:[],sb:[],so:[],sr:[],th:[],tl:[],tv:[],tw:[],ua:[],us:[],vn:[],vu:[],ye:[]}},MaskedObserver=function(){function a(){this.subscribers=[]}return a.prototype={add:function(a){this.subscribers.push(a)},notify:function(){var a=this,b=[],c=function(){a.subscribers.forEach(function(a){a.self.start(a.elements,a.options)}),a.subscribers=[],MaskedSubListObserver.subscribers.length>0?MaskedSubListObserver.notify():Global.initialization=!1};if(Global.initialization=!0,a.subscribers)for(var d in a.subscribers)a.subscribers.hasOwnProperty(d)&&b.push(a.subscribers[d].options.lang);Masked.phoneCodes.loadMask("all",b,function(){c()})}},new a}(),MaskedSubListObserver=function(){function a(){this.subscribers=[]}return a.prototype={add:function(a){this.subscribers.push(a)},notify:function(){var a,b,c=this,d=[],e=[],f=[],g=c.subscribers;for(var h in g)g.hasOwnProperty(h)&&(b=g[h],f.push(b.object),d.push(b.language),e.push(b.country));Masked.phoneCodes.loadMask(e,d,function(){for(var b in f)f.hasOwnProperty(b)&&(a=f[b],a.findMask(a.opt.phone))}),Global.initialization=!1,c.subscribers=[]}},new a}(),$M=MaskedReady=function(){return function(a){this.use=!0,a(),MaskedObserver.notify()}}();$M.ready=$M;var alternativeReady=function(){return{timerID:0,init:function(){this.timerID&&clearTimeout(this.timerID),this.timerID=setTimeout(function(){MaskedObserver.notify()},250)}}}(),generalMaskedFn={extend:function(a,b){var c,d={},e=Object.prototype.hasOwnProperty;for(c in a)a.hasOwnProperty(c)&&e.call(a,c)&&(d[c]=a[c]);for(c in b)b.hasOwnProperty(c)&&e.call(b,c)&&(d[c]=b[c]);return d}},MaskedConfig=MConf=function(){var a={ru:{localFormat:"8",exceptions:{8975:"7975"}}},b={pathToList:"/js/masks/",prefix:"instId_",lang:"ru",country:"ru",one_country:!1,first_countries:["ru"],exceptions:a,initial_focus:!1,select_range:!1,onToggleList:null,onShowList:null,onHideList:null,onSend:null,onValueChanged:null,popup_direction:"auto"};return function(a){if("string"==typeof a)return b[a];for(var c in a)a.hasOwnProperty(c)&&"undefined"==typeof b[c]&&console.warn("masked argument not exists");return b=generalMaskedFn.extend(b,a)}}(),Masked=function(a,b){function c(){for(var a=arguments,b=a.length,c=0,d=void 0,e=""+d;c!==b;){if(a[c]===d||typeof a[c]===e||null===a[c])return!1;c++}return!0}function d(){for(var a=arguments,b=a.length,c=0,d=0,e=void 0,f=""+e,g=[e,!1,""],h=g.length;c!==b;){for(d=0;d<h;d++)if(typeof a[c]===f||a[c]===g[d]||0===a[c].length)return!0;c++}return!1}function f(a,b){var c=a.className;new RegExp("(^|\\s)"+b+"(\\s|$)","g").test(c)||(a.className=(c+" "+b).replace(/\s+/g," ").replace(/(^ | $)/g,""))}function g(a,b){a.className=a.className.replace(new RegExp("(^|\\s)"+b+"(\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/(^ | $)/g,"")}function h(a,b){for(;(a=a.parentNode)&&a!==b;);return!!a}function i(a){return(a+"").replace(/\D+/g,"")}function j(a,b){var c,d,e=i(a),f=b.split(""),g=0;for(c in f)f.hasOwnProperty(c)&&(d=f[c],"_"==d&&g<e.length&&(f[c]=e[g],g++));return f.join("")}function k(a){return"function"==typeof a}function l(b){var c,d,e,f=[];if("string"==typeof b)if(e=b[0],"."!==e&&"#"!==e||(b=b.substr(1)),"."===e){d=a.getElementsByClassName(b);for(c in d)d.hasOwnProperty(c)&&d[c]!==m&&(f[d[c].id||c]=d[c])}else"#"===e?(d=a.getElementById(b),d!==m&&f.push(d)):console.warn("selector finder empty");else b.nodeType&&b!==m&&f.push(b);return f}var m="null",n=new RegExp("[0-9]"),o=function(){function a(a){var b=a||e.event;if(b.isFixed)return b;if(b.isFixed=!0,b.preventDefault=b.preventDefault||function(){this.returnValue=!1},b.stopPropagation=b.stopPropagation||function(){this.cancelBubble=!0},b.target||(b.target=b.srcElement),!b.relatedTarget&&b.fromElement&&(b.relatedTarget=b.fromElement==b.target?b.toElement:b.fromElement),null==b.pageX&&null!=b.clientX){var c=f.documentElement,d=f.body;b.pageX=b.clientX+(c&&c.scrollLeft||d&&d.scrollLeft||0)-(c.clientLeft||0),b.pageY=b.clientY+(c&&c.scrollTop||d&&d.scrollTop||0)-(c.clientTop||0)}return!b.which&&b.button&&(b.which=1&b.button?1:2&b.button?3:4&b.button?2:0),b}function b(b){var c,d=a(b),e=this.events[d.type];for(c in e)if(e.hasOwnProperty(c)){var f=e[c],g=f.call(this,d);g===!1&&(d.preventDefault(),d.stopPropagation())}}var d=0,e=window,f=document;return{add:function(a,f,g){a.setInterval&&a!=e&&!a.frameElement&&(a=e),g.guid||(g.guid=++d),a.events||(a.events={},a.handle=function(d){if(c(o))return b.call(a,d)}),a.events[f]||(a.events[f]={},a.addEventListener?a.addEventListener(f,a.handle,!1):a.attachEvent&&a.attachEvent("on"+f,a.handle)),a.events[f][g.guid]=g},remove:function(a,b,c){var d,e=a.events&&a.events[b];if(e){delete e[c.guid];for(d in e)if(e.hasOwnProperty(d))return;a.removeEventListener?a.removeEventListener(b,a.handle,!1):a.detachEvent&&a.detachEvent("on"+b,a.handle),delete a.events[b];for(d in a.events)if(a.events.hasOwnProperty(d))return;try{delete a.handle,delete a.events}catch(b){a.removeAttribute("handle"),a.removeAttribute("events")}}}}}(),p=function(a){var b,e,f,g,h,i,j,k={},l="undefined",m=["GET","POST","PUT"],n=["json","text"],o={},p=XMLHttpRequest,q="Msxml2.XMLHTTP",r={url:a.url||!1,async:a.async||!1,data:a.data||null,crossDomain:a.crossDomain||!1,complete:a.result||function(){},timeout:a.timeout||1e4,type:(m.indexOf(a.type)!==-1?a.type:null)||"GET",dataType:(n.indexOf(a.dataType)!==-1?a.dataType:null)||"json"},s=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")};if(!d(r.url)){if(typeof p==l&&(p=function(){try{var a=ActiveXObject}catch(a){}try{return new a(q+".6.0")}catch(a){}try{return new a(q+".3.0")}catch(a){}try{return new a(q)}catch(a){}throw new Error("This browser does not support XMLHttpRequest.")}),g=new("onload"in new p?p:XDomainRequest),f=r.url,"string"==typeof r.data)try{r.data=JSON.parse(r.data)}catch(a){}"object"==typeof r.data&&(r.data=s(r.data)),"GET"===r.type&&r.data&&r.data.length>0&&(f=r.url+"?"+r.data.toString()),g.open(r.type,f,r.async),r.crossDomain||(o["X-Requested-With"]="XMLHttpRequest");for(b in o)o.hasOwnProperty(b)&&c(o[b])&&g.setRequestHeader(b,o[b]+"");r.data&&r.data.toString().length>0&&(g.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.data=r.data.toString());try{g.send(r.data||null)}catch(a){}if(r.async)var t=setTimeout(function(){g.abort()},r.timeout);j=function(){if(4===g.readyState)if(r.async&&clearTimeout(t),j="undefined",4!==g.readyState)g.abort();else{h=g.status,"string"==typeof g.responseText&&(k.text=g.responseText);try{i=g.statusText}catch(a){i=""}h||r.crossDomain?1223===h&&(h=204):h=k.text?200:404}if(k&&(h||r.crossDomain?1223===h&&(h=204):h=k.text?200:404,200===h)){if("text"===r.dataType)e=k.text||"";else if("json"===r.dataType)try{e=JSON.parse(k.text)||""}catch(a){e=""}r.complete(e,h,i,g.getAllResponseHeaders())}},r.async?4===g.readyState?setTimeout(j,20):g.onreadystatechange=j:j()}};Array.prototype.getUnique=function(){for(var a={},b=[],c=0,d=this.length;c<d;++c)a.hasOwnProperty(this[c])||(b.push(this[c]),a[this[c]]=1);return b},Math.sign=Math.sign||function(a){return a=+a,0===a||isNaN(a)?a:a>0?1:-1};var q={sortPhones:function(a,b,d){var e="mask",f="desc",g="asc",h=b==e?e:"name",i=d==f?f:g;return a&&a.sort(function(a,b){return c(a[h])&&c(b[h])?(h===e?(a=a[h].replace(/\D+/g,""),b=b[h].replace(/\D+/g,"")):(a=a[h],b=b[h]),a>b?i==g?1:-1:a<b?i==g?-1:1:0):c(a[h])?-1:1}),a},loadMask:function(a,b,c){var e=this,f=Global.countries,g="string"==typeof a?[a]:a.splice(0,1)[0],h="string"==typeof b?[b]:b.splice(0,1)[0];if("undefined"!=typeof g&&"undefined"==typeof f[g])return e.loadMask(a,b,c);if("undefined"!=typeof f[g][h]&&f[g][h].length>0){if(0===b.length)return c();e.loadMask(a,b,c)}else p({url:MConf("pathToList")+g+"/"+(d(h)?"ru":h)+".min.json",type:"GET",async:!0,crossDomain:!0,dataType:"json",result:function(d){return f[g][h]=e.sortPhones(d,"mask","desc"),0===b.length&&k(c)?c():void e.loadMask(a,b,c)}});return!0},findMaskByCode:function(a,b,c){var d,e,f=this,g=Global.countries,h=f.sortPhones(g[a][c],"name",1);if(h.length>0)for(d in h)if(h.hasOwnProperty(d)&&(e=h[d],e.iso_code===b))return e;return!1}},r={focus:function(){this.focused()},click:function(){var a=this;a.opt.select_range!==!1?a.setRange():a.focused()},dblclick:function(){r.click.bind(this)},blur:function(){var a=this;return a.opt.select_range!==!1&&a.unsetRange(),!0},paste:function(a){a.preventDefault(),this.findMask(i((a.originalEvent||a).clipboardData.getData("text/plain")))},keydown:function(a){var b,c,d=this,e=d.opt.element,f=a.which||a.keyCode,g=a.ctrlKey||a.metaKey,h=a.key?a.key:f>=96&&f<=105?String.fromCharCode(f-48):String.fromCharCode(f),i=e.value,j=d.opt.select_range;return 8===f?(b=d.getLastNum(),n.test(i[b])===!0&&(j!==!1&&j.focus===!0&&(d.replaceRange(),b=j.start,d.unsetRange(),d.opt.select_range.changed=j.end-j.start>1),d.removeLastChar(b),d.setCaretFocus(b,b),d.findMask(e.value),d.focused(),!1)):g===!0&&86===f||(c=i.indexOf("_"),j!==!1&&j.focus===!0&&n.test(h)===!0&&(d.replaceRange(),c=j.start,i=e.value,d.unsetRange(),d.opt.select_range.changed=j.end-j.start>1),c===-1?!(!d.ifIssetNextMask()||n.test(h)!==!0):n.test(h)===!0&&"_"===i[c]&&void d.setCaretFocus(c,c+1))},keyup:function(a){var b,c,d=this,e=d.opt.element,f=a.keyCode||a.which,g=e.value,h=d.opt,i=h.select_range;return 8===f?(b=d.getLastNum(),n.test(g[b])===!0&&(b+=1,d.focused(),!1)):void(13===f?h.onSend&&h.onSend(h):(c=g.indexOf("_"),b=c!==-1?c:g.length,i.changed!==!0?(d.findMask(e.value),d.focused()):c===-1&&(d.unsetRange(),d.focused())))}},s=function(a,b){var c=this,d=function(a,b){var d=c.opt;d.oldState=a,c.setTemplate(),c.addActions(d.element)};c.opt={pre_value:!1,listOpened:!1,element:a,lang:b.lang||MConf("lang"),country:b.country||MConf("country"),phone:b.phone||!1,mask:b.mask||"",onSend:b.onSend||MConf("onSend"),onToggleList:b.onToggleList||MConf("onToggleList"),onShowList:b.onShowList||MConf("onShowList"),onHideList:b.onHideList||MConf("onHideList"),onValueChanged:b.onValueChanged||MConf("onValueChanged"),one_country:b.one_country||MConf("one_country"),first_countries:b.first_countries||MConf("first_countries"),exceptions:b.exceptions||MConf("exceptions"),name:"",title:{country:"",region:"",city:"",operator:""},old:{},oldState:null,initial_focus:b.initial_focus||MConf("initial_focus"),select_range:!(!b.select_range&&!MConf("select_range"))&&{focus:!1,changed:!1,start:0,end:0},popup_direction:b.popup_direction||MConf("popup_direction")},d(a,c.opt)};s.prototype={setTemplate:function(){var a,b,d,e,i,j,l,m,n,p,r,s,t=this,u=window,v=document,w=t.opt,x=w.element,y="lists",z="active",A="top",B="CBH-masks",C=t.opt.one_country,D=t.opt.first_countries,E=v.getElementsByClassName(y+" "+z),F=function(a){return document.createElement(a)},G=function(a,b){a.innerHTML=b.outerHTML},H=function(a,b){return a.className=b},I=q,J=function(a,b){a.appendChild(b)},K="div",L="flag";if(n=F("div"),G(n,x),H(n,B),x.parentNode.replaceChild(n,x),C||(l=F("i"),H(l,"caret")),j=F(K),C||G(j,l),H(j,L+" "+w.country),p=F(K),G(p,j),H(p,"selected"),C?(r=F(K),G(r,p),H(r,"country")):(r=F(K),G(r,p),H(r,"flags"),d=F("ul"),H(d,"lists")),s=I.sortPhones(Global.countries.all[w.lang],"name","asc"),0!==s.length){var M=function(){var f=s[a],g=f.iso_code.toString().toLowerCase(),h=f.name,j=f.mask;return!!c(h)&&(w.phone===!1&&w.country===g&&(t.opt.element.value=j),void(C||(b=F("li"),b.className="country",b.dataset.isoCode=g,b.dataset.mask=j,o.add(b,"click",t.maskReplace.bind(t)),e=F("i"),H(e,L+" "+g),J(b,e),i=F("span"),H(i,"name"),i.innerHTML=h,J(b,i),i=F("span"),H(i,"code"),i.innerHTML="+"+f.phone_code,J(b,i),J(d,b))))};if(!C){for(a in s)!s.hasOwnProperty(a)||D.indexOf(s[a].iso_code)===-1||M()!==!1;var N=F("hr");J(d,N)}for(a in s)!s.hasOwnProperty(a)||M()!==!1;C||(J(r,d),o.add(d,"mousedown",function(a){a.stopPropagation()})),n.insertBefore(r,n.firstChild),C||(n.getElementsByClassName("selected")[0].onclick=function(){function b(a){var b=0,c=0;if(a&&a.offsetParent)do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent);return{left:b,top:c}}m=n.getElementsByClassName(y)[0];var c="opened",d="closed",e="closed",i=document,j=function(a){h(a.target,r)||(g(m,z),g(m,A),o.remove(i,"click",j),k(w.onHideList)&&w.onHideList(),k(w.onToggleList)&&w.onToggleList(d))};if(E.length)for(a=0;a<E.length;a++)m!==E[a]&&g(E[a],z);if(/active/.test(m.className)!==!0){f(m,z);var l=u.innerHeight||v.documentElement.clientHeight||v.body.clientHeight,p=b(m),q=p.top-m.scrollTop,s=m.clientHeight;l-(q+n.childNodes[1].clientHeight)<=s&&("auto"!==w.popup_direction&&"top"!==w.popup_direction||f(m,A)),e=c}else g(m,z),g(m,A),o.remove(i,"click",j),e=d;e===c&&k(w.onShowList)&&w.onShowList(),e===d&&k(w.onHideList)&&w.onHideList(),k(w.onToggleList)&&w.onToggleList(e)});var O=w.phone?w.phone:w.element.value;t.opt.element=n.childNodes[1],t.opt.element.value=O,t.findMask(O)}},addActions:function(a){o.add(a,"focus",r.focus.bind(this)),o.add(a,"click",r.click.bind(this)),o.add(a,"dblclick",r.dblclick.bind(this)),o.add(a,"blur",r.blur.bind(this)),o.add(a,"paste",r.paste.bind(this)),o.add(a,"keydown",r.keydown.bind(this)),o.add(a,"keyup",r.keyup.bind(this))},focused:function(){var a=this,b=a.opt.element.value,c=b.indexOf("_"),d=c===-1?b.length:c;a.setCaretFocus(d,d)},setRange:function(){var a=this,b=a.opt,c=a.opt.element,d=c.selectionStart,e=c.selectionEnd;d!==e?b.select_range={focus:!0,changed:!1,start:d,end:e}:a.focused()},unsetRange:function(){this.opt.select_range={focus:!1,changed:!1,start:0,end:0}},findMask:function(a){var b,c,e=this,f=e.opt,g=f.one_country,h=f.lang,j=f.country,k=i(a),l=q,m=f.exceptions;if(g!==!1)var n=l.findMaskByCode("all",g,h).phone_code;if(k){if(g!==!1&&k.indexOf(n,0)===-1&&(k=n),!d(m[j])&&!d(m[j].exceptions)){var o=m[j].exceptions;for(var p in o)if(o.hasOwnProperty(p)&&k===n+""+p){k=k.replace(n+""+p,o[p]);break}}}else{if(g===!1)return a===!1&&e.setPhone(""),!1;(b=l.findMaskByCode("all",g,h))&&(k=i(b.mask))}return c=e.hardSearch(k,h,j),c&&(j!==c.iso_code&&(c=e.hardSearch(k,h,c.iso_code)||c),e.setTitle(c),e.setMask(c),e.setPhone(k),e.opt.initial_focus===!0&&e.focused()),!!c},setMask:function(a){var b=this,c=b.opt;return c.country=a.iso_code,c.mask=a.mask,b},setTitle:function(a){var b,c,e=this,f=e.opt,g=f.element,h=f.title,i=a.iso_code;for(b in h)h.hasOwnProperty(b)&&(c=h[b],"country"===b&&a.name?(h.country=a.name,h.region="",h.city="",h.operator=""):"region"===b&&a.region?(h.region=a.region,h.city="",h.operator=""):"city"===b&&a.city?(h.city=a.city,h.operator=""):"operator"===b&&a.operator&&(h.operator=a.operator,h.region="",h.city=""));var j="";for(b in h)h.hasOwnProperty(b)&&(c=h[b],c&&(j+=j?" / "+c:c));return d(g.parentNode.getElementsByClassName("selected")[0])||(b=g.parentNode.getElementsByClassName("selected")[0].getElementsByClassName("flag")[0],b.className="flag "+i,"undefined"!=typeof j&&b.parentNode.setAttribute("title",j)),e},setPhone:function(a){var b=this.opt,c=j(a,b.mask.replace(new RegExp([n.source].concat("_").join("|"),"g"),"_"));b.phone=a,b.element.placeholder=c,b.element.value=c},maskReplace:function(a,b){var c=this,d=c.opt,e=q,f=a.target,h="LI"===f.tagName?f:f.parentNode,l=h.parentNode,m=d.element,o=h.dataset,p=e.findMaskByCode("all",d.country,d.lang),r=e.findMaskByCode("all",o.isoCode,d.lang),s=j(i(m.value).replace(p.phone_code,r.phone_code),r.mask.replace(new RegExp([n.source].concat("_").join("|"),"g"),"_"));this.setTitle(r),r&&(this.setMask(r),this.setPhone(s)),g(l,"active"),k(c.opt.onHideList)&&c.opt.onHideList(),k(c.opt.onToggleList)&&c.opt.onToggleList("closed")},ifIssetNextMask:function(){var a,b=this,d=b.opt.country,e=b.opt.lang,f=Global.countries,g=b.opt.element.value,h=g.replace(new RegExp([n.source].concat("_").join("|"),"g"),"_").replace(/[+()-]/g,"").length;if(c(f[d])&&c(f[d][e])){a=f[d][e];for(var i in a)if(a.hasOwnProperty(i)){var j=a[i].mask.replace(new RegExp([n.source].concat("_").join("|"),"g"),"_").replace(/[0-9+()-]/g,"").length;if(j>h)return!0}}return!1},hardSearch:function(a,b,e){var f,g,h,i,j,k,l,m,o=this,p=[],r=q,s=Global.countries.all[b];if(o.opt.pre_value=o.opt.one_country||o.opt.pre_value&&!(a.length>o.opt.pre_value.length)?o.opt.pre_value:a,d(s))return!1;s=r.sortPhones(s,"mask","desc"),c(Global.countries[e])&&!d(Global.countries[e][b])&&(s=Global.countries[e][b].concat(s));for(f in s)if(s.hasOwnProperty(f)){for(k=s[f].mask,l=!0,g=0,h=0;g<a.length&&h<k.length;){var t=k.charAt(h),u=a.charAt(g);if(n.test(t)||"_"===t){if(!("_"===t&&n.test(u)||u==t)){l=!1;break}g++,h++}else h++}if(l&&g==a.length){if(m=k.substr(h).search(n)==-1,k=k.replace(new RegExp([n.source].concat("_").join("|"),"g"),"_"),"1"===a&&"us"!==s[f].iso_code)continue;p.push(s[f])}}p=q.sortPhones(p,"mask","desc"),j=!1;for(f in p)p.hasOwnProperty(f)&&(i=p[f].mask.replace(/\D+/g,""),parseInt(i)===parseInt(a)&&(j=p[f]));if(j)return j;if(p.length>1&&p.sort(function(a,b){return Math.sign((a.mask.match(/_/g)||[]).length-(b.mask.match(/_/g)||[]).length)}),c(Global.countries[e])&&d(Global.countries[e][b])&&p&&a)for(f in p)if(p.hasOwnProperty(f)){var v=p[f].iso_code;if("ca"===v&&(v="us"),Global.initialization!==!0)return Masked.phoneCodes.loadMask([v],[b],function(){o.opt.country=v,o.opt.lang=b,a=o.opt.pre_value.length>a.length?o.opt.pre_value:a,o.findMask(a),o.opt.initial_focus===!0&&o.focused(),o.opt.pre_value=!1}),!1;MaskedSubListObserver.add({object:o,country:v,language:b})}return c(p[0])?(o.opt.pre_value=!1,j||p[0]||!1):(a=a.substring(0,a.length-1))?this.hardSearch(a,b,e):void 0},getLastNum:function(){var a,b=this.opt.element.value;for(a=b.length;a>=0&&!n.test(b[a]);a--);return a},removeLastChar:function(a){var b=this.opt.element,c=b.value.split("");n.test(c[a])&&(c[a]="_"),b.value=c.join("")},setCaretFocus:function(a,b){var c="character";if(e=this.opt.element,e.focus(),e.setSelectionRange)e.setSelectionRange(a,b);else if(e.createTextRange){var d=e.createTextRange();d.collapse(!0),d.moveEnd(c,a),d.moveStart(c,b),d.select()}},replaceRange:function(){var a=this,b=(a.opt,a.opt.element),c=b.value.split(""),d=a.opt.select_range;for(var e in c)c.hasOwnProperty(e)&&e>=d.start&&e<d.end&&n.test(c[e])&&(c[e]="_");b.value=c.join("")}};var t=function(a){var b=this;return b.objects=[],b.init(a),"undefined"==typeof MaskedReady.use?alternativeReady.init(b):b};return t.phoneCodes=q,t.toggle=function(a){var b,c,e,f=Global.instances;for(b in f)f.hasOwnProperty(b)&&(c=f[b],console.log(a,c.opt.oldState),a!==c.opt.element&&a!==c.opt.oldState||(e=c));if(console.log(e),e){var g=e.opt;g.element;d(a.parentNode)||"CBH-masks"!==a.parentNode.className?console.log("set template"):a.parentNode.outerHTML=g.oldState.outerHTML}},t.prototype={init:function(a){var b,c,d=this;return a&&("string"==typeof a&&(a={selector:a}),c=generalMaskedFn.extend(MConf(),a)),"undefined"!=typeof a.selector&&(b=l(a.selector)),Object.keys(b).length&&MaskedObserver.add({self:d,elements:b,options:c}),d},start:function(a,b){var c,d,e;for(c in a)if(a.hasOwnProperty(c)&&(d=a[c])){e=generalMaskedFn.extend(generalMaskedFn.extend({},b),d.dataset);var f=new s(d,e);Global.instances.push(f)}}},t}(document,window);